{"version":3,"sources":["resize.js"],"names":[],"mappings":"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","file":"resize-compiled.js","sourcesContent":["function update(activeAnchor) {\n\n    var group = activeAnchor.getParent();\n    var topLeft = group.get('.topLeft')[0];\n    var topRight = group.get('.topRight')[0];\n    var bottomRight = group.get('.bottomRight')[0];\n    var bottomLeft = group.get('.bottomLeft')[0];\n    var image = group.get('Image')[0];\n    var anchorX = activeAnchor.getX();\n    var anchorY = activeAnchor.getY();\n\n    // update anchor positions\n    switch (activeAnchor.getName()) {\n        case 'topLeft':\n            topRight.setY(anchorY);\n            bottomLeft.setX(anchorX);\n            break;\n        case 'topRight':\n            topLeft.setY(anchorY);\n            bottomRight.setX(anchorX);\n            break;\n        case 'bottomRight':\n            bottomLeft.setY(anchorY);\n            topRight.setX(anchorX);\n            break;\n        case 'bottomLeft':\n            bottomRight.setY(anchorY);\n            topLeft.setX(anchorX);\n            break;\n    }\n\n    image.position(topLeft.position());\n\n    var width = topRight.getX() - topLeft.getX();\n    var height = bottomLeft.getY() - topLeft.getY();\n    if(width && height) {\n        image.width(width);\n        image.height(height);\n    }\n}\nfunction addAnchor(group, x, y, name) {\n    var stage = group.getStage();\n    var layer = group.getLayer();\n\n    var anchor = new Konva.Circle({\n        x: x,\n        y: y,\n        stroke: '#666',\n        fill: '#ddd',\n        strokeWidth: 2,\n        radius: 8,\n        name: name,\n        draggable: true,\n        dragOnTop: false\n    });\n\n    anchor.on('dragmove', function() {\n        update(this);\n        layer.draw();\n    });\n    anchor.on('mousedown touchstart', function() {\n        group.setDraggable(false);\n        this.moveToTop();\n    });\n    anchor.on('dragend', function() {\n        group.setDraggable(true);\n        layer.draw();\n    });\n    // add hover styling\n    anchor.on('mouseover', function() {\n        var layer = this.getLayer();\n        document.body.style.cursor = 'pointer';\n        this.setStrokeWidth(4);\n        layer.draw();\n    });\n    anchor.on('mouseout', function() {\n        var layer = this.getLayer();\n        document.body.style.cursor = 'default';\n        this.setStrokeWidth(2);\n        layer.draw();\n    });\n\n    group.add(anchor);\n}\n\nvar stage = new Konva.Stage({\n    container: 'container',\n    width: width,\n    height: height\n});\n\nvar layer = new Konva.Layer();\nstage.add(layer);\n\n// darth vader\nvar darthVaderImg = new Konva.Image({\n    width: 200,\n    height: 137\n});\n\n// yoda\nvar yodaImg = new Konva.Image({\n    width: 93,\n    height: 104\n});\n\nvar darthVaderGroup = new Konva.Group({\n    x: 180,\n    y: 50,\n    draggable: true\n});\nlayer.add(darthVaderGroup);\ndarthVaderGroup.add(darthVaderImg);\naddAnchor(darthVaderGroup, 0, 0, 'topLeft');\naddAnchor(darthVaderGroup, 200, 0, 'topRight');\naddAnchor(darthVaderGroup, 200, 138, 'bottomRight');\naddAnchor(darthVaderGroup, 0, 138, 'bottomLeft');\n\nvar yodaGroup = new Konva.Group({\n    x: 20,\n    y: 110,\n    draggable: true\n});\nlayer.add(yodaGroup);\nyodaGroup.add(yodaImg);\naddAnchor(yodaGroup, 0, 0, 'topLeft');\naddAnchor(yodaGroup, 93, 0, 'topRight');\naddAnchor(yodaGroup, 93, 104, 'bottomRight');\naddAnchor(yodaGroup, 0, 104, 'bottomLeft');\n\nvar imageObj1 = new Image();\nimageObj1.onload = function() {\n    darthVaderImg.image(imageObj1);\n    layer.draw();\n};\nimageObj1.src = 'http://konvajs.github.io/assets/darth-vader.jpg';\n\nvar imageObj2 = new Image();\nimageObj2.onload = function() {\n    yodaImg.image(imageObj2);\n    layer.draw();\n};\nimageObj2.src = 'http://konvajs.github.io/assets/yoda.jpg';"]}